{% extends 'base.html' %}

{% block title %}Tool Execution - New Relic AIM Demo{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/tools.css') }}">
{% endblock %}

{% block content %}
<div class="tools-container">
    <!-- Navigation -->
    <nav class="page-nav">
        <a href="{{ url_for('main.index') }}" class="nav-btn">ğŸ  Home</a>
        <a href="{{ url_for('chat.chat_mode') }}" class="nav-btn">ğŸ’¬ Chat</a>
    </nav>

    <h1>ğŸ”§ Autonomous Tool Execution</h1>
    <p>Trigger the AI agent to autonomously execute system operations through multi-step workflows.</p>

    <!-- Model Selection -->
    <div class="config-section">
        <h2>Configuration</h2>
        <div class="form-group">
            <label for="model-select">Select Model:</label>
            <select id="model-select" class="form-control">
                <option value="a">Model A (Reliable & Accurate)</option>
                <option value="b">Model B (Efficient & Fast)</option>
            </select>
        </div>
    </div>

    <hr>

    <!-- Tool Execution Trigger -->
    <section class="trigger-section">
        <h2>ğŸš€ Trigger Tool Execution</h2>
        <button id="trigger-repair-btn" class="btn btn-primary">Run Workflow</button>
        <div id="repair-progress" style="display: none;">
            <div class="spinner"></div>
            <p>Running tool execution workflow... This may take 1-3 minutes</p>
        </div>
    </section>

    <!-- Live Execution Stream -->
    <section id="execution-stream" class="execution-stream" style="display: none;">
        <h2>ğŸ“¡ Live Execution Stream</h2>
        <div class="stream-container">
            <div id="stream-content" class="stream-content"></div>
        </div>
    </section>

    <hr>

    <!-- Execution Results -->
    <section id="repair-results" style="display: none;">
        <h2>ğŸ“ Execution Results</h2>
        <div id="results-content"></div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/tools.js') }}"></script>
{% endblock %}
